<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>顺丰控股 [002352.SZ]</title>
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #131722;
            color: #d1d4dc;
        }
        .container {
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .header {
            padding: 12px 20px;
            background: #1e222d;
            border-bottom: 1px solid #2a2e39;
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .header h1 {
            font-size: 16px;
            font-weight: 500;
            color: #d1d4dc;
        }
        .legend {
            display: flex;
            gap: 15px;
            font-size: 12px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .legend-color {
            width: 12px;
            height: 3px;
            border-radius: 1px;
        }
        #chart-container {
            flex: 1;
            width: 100%;
        }
        .ohlc-panel {
            position: absolute;
            top: 50px;
            left: 10px;
            padding: 8px 12px;
            background: rgba(30, 34, 45, 0.85);
            border-radius: 4px;
            font-size: 12px;
            z-index: 1000;
            pointer-events: none;
            display: flex;
            gap: 15px;
            align-items: center;
        }
        .ohlc-item {
            display: flex;
            gap: 4px;
        }
        .ohlc-label {
            color: #787b86;
        }
        .ohlc-value {
            font-weight: 500;
        }
        .ohlc-value.up {
            color: #26a69a;
        }
        .ohlc-value.down {
            color: #ef5350;
        }
        .ohlc-date {
            color: #d1d4dc;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>顺丰控股 [002352.SZ]</h1>
            <div class="legend" id="legend"></div>
        </div>
        <div id="chart-container">
            <div class="ohlc-panel" id="ohlc-panel"></div>
        </div></div>

    <script>
        // 数据
        const candlestickData = [{"time": 1704153600, "open": 40.4, "high": 40.4, "low": 39.15, "close": 39.2}, {"time": 1704240000, "open": 39.2, "high": 39.2, "low": 38.09, "close": 38.79}, {"time": 1704672000, "open": 38.71, "high": 38.71, "low": 37.91, "close": 38.3}, {"time": 1704758400, "open": 38.35, "high": 39.05, "low": 38.0, "close": 38.96}, {"time": 1704844800, "open": 38.77, "high": 39.51, "low": 38.55, "close": 39.04}, {"time": 1704931200, "open": 39.04, "high": 39.7, "low": 38.82, "close": 39.45}, {"time": 1705017600, "open": 39.26, "high": 39.45, "low": 38.78, "close": 38.85}, {"time": 1705363200, "open": 38.66, "high": 39.33, "low": 38.42, "close": 39.3}, {"time": 1705449600, "open": 39.2, "high": 39.36, "low": 38.7, "close": 38.7}, {"time": 1705622400, "open": 38.56, "high": 38.78, "low": 37.49, "close": 38.35}, {"time": 1705881600, "open": 38.2, "high": 38.5, "low": 37.4, "close": 37.66}, {"time": 1706054400, "open": 37.65, "high": 37.73, "low": 36.45, "close": 37.73}, {"time": 1706140800, "open": 38.05, "high": 38.45, "low": 37.67, "close": 38.42}, {"time": 1706227200, "open": 38.25, "high": 38.36, "low": 37.41, "close": 37.86}, {"time": 1706486400, "open": 37.75, "high": 37.93, "low": 36.85, "close": 36.85}, {"time": 1706745600, "open": 36.75, "high": 36.75, "low": 34.1, "close": 34.71}, {"time": 1706832000, "open": 35.0, "high": 35.14, "low": 33.38, "close": 34.08}, {"time": 1707091200, "open": 34.48, "high": 34.79, "low": 32.93, "close": 34.38}, {"time": 1707177600, "open": 34.09, "high": 36.39, "low": 34.0, "close": 36.25}, {"time": 1707264000, "open": 36.37, "high": 37.15, "low": 35.93, "close": 36.84}, {"time": 1707350400, "open": 36.98, "high": 37.82, "low": 36.78, "close": 37.55}, {"time": 1708300800, "open": 38.17, "high": 38.2, "low": 37.61, "close": 37.84}, {"time": 1708387200, "open": 38.3, "high": 38.35, "low": 37.76, "close": 38.27}, {"time": 1708646400, "open": 38.13, "high": 39.88, "low": 38.13, "close": 39.35}, {"time": 1708905600, "open": 39.69, "high": 39.97, "low": 39.18, "close": 39.18}, {"time": 1708992000, "open": 39.18, "high": 39.37, "low": 38.46, "close": 38.81}, {"time": 1709078400, "open": 38.82, "high": 38.85, "low": 38.0, "close": 38.0}, {"time": 1709164800, "open": 37.98, "high": 38.35, "low": 37.83, "close": 38.35}, {"time": 1709251200, "open": 38.38, "high": 38.45, "low": 37.9, "close": 38.05}, {"time": 1709510400, "open": 38.22, "high": 38.37, "low": 37.85, "close": 37.89}, {"time": 1709769600, "open": 37.71, "high": 37.95, "low": 37.01, "close": 37.21}, {"time": 1709856000, "open": 37.22, "high": 37.55, "low": 36.85, "close": 37.34}, {"time": 1710115200, "open": 37.34, "high": 38.15, "low": 37.2, "close": 38.07}, {"time": 1710201600, "open": 38.14, "high": 39.27, "low": 37.92, "close": 39.21}, {"time": 1710374400, "open": 39.17, "high": 39.6, "low": 38.54, "close": 38.69}, {"time": 1710460800, "open": 38.68, "high": 38.97, "low": 38.33, "close": 38.97}, {"time": 1710892800, "open": 39.08, "high": 39.23, "low": 38.6, "close": 39.23}, {"time": 1710979200, "open": 39.16, "high": 39.3, "low": 38.65, "close": 38.77}, {"time": 1711065600, "open": 38.69, "high": 38.7, "low": 37.81, "close": 38.04}, {"time": 1711324800, "open": 38.4, "high": 38.46, "low": 37.73, "close": 37.77}, {"time": 1711411200, "open": 38.11, "high": 38.23, "low": 37.68, "close": 37.94}, {"time": 1712016000, "open": 38.2, "high": 38.2, "low": 35.3, "close": 35.76}, {"time": 1712102400, "open": 35.7, "high": 35.7, "low": 35.21, "close": 35.34}, {"time": 1712534400, "open": 35.36, "high": 35.38, "low": 34.68, "close": 34.84}, {"time": 1712620800, "open": 34.81, "high": 35.03, "low": 34.48, "close": 34.86}, {"time": 1712707200, "open": 34.87, "high": 34.9, "low": 34.15, "close": 34.43}, {"time": 1712880000, "open": 34.06, "high": 34.45, "low": 33.83, "close": 34.29}, {"time": 1713312000, "open": 34.02, "high": 34.98, "low": 34.02, "close": 34.85}, {"time": 1713398400, "open": 34.72, "high": 35.2, "low": 34.42, "close": 34.9}, {"time": 1713484800, "open": 34.75, "high": 34.92, "low": 34.36, "close": 34.4}, {"time": 1713916800, "open": 34.49, "high": 35.98, "low": 34.49, "close": 35.09}, {"time": 1714003200, "open": 35.11, "high": 36.24, "low": 34.95, "close": 36.09}, {"time": 1714089600, "open": 35.92, "high": 36.38, "low": 35.85, "close": 36.34}, {"time": 1714348800, "open": 36.33, "high": 37.15, "low": 36.06, "close": 36.42}, {"time": 1714435200, "open": 36.86, "high": 36.97, "low": 36.01, "close": 36.25}, {"time": 1715040000, "open": 37.1, "high": 37.48, "low": 36.82, "close": 37.31}, {"time": 1715126400, "open": 37.26, "high": 37.3, "low": 36.7, "close": 36.87}, {"time": 1715212800, "open": 36.96, "high": 37.78, "low": 36.78, "close": 37.65}, {"time": 1715299200, "open": 37.66, "high": 37.86, "low": 37.47, "close": 37.74}, {"time": 1715558400, "open": 37.74, "high": 37.74, "low": 37.06, "close": 37.3}, {"time": 1715731200, "open": 37.0, "high": 37.34, "low": 36.52, "close": 36.66}, {"time": 1715817600, "open": 36.79, "high": 36.85, "low": 36.35, "close": 36.38}, {"time": 1715904000, "open": 36.44, "high": 38.0, "low": 36.38, "close": 37.96}, {"time": 1716163200, "open": 38.1, "high": 38.88, "low": 37.79, "close": 38.29}, {"time": 1716422400, "open": 38.01, "high": 39.23, "low": 38.01, "close": 38.52}, {"time": 1716768000, "open": 38.33, "high": 38.42, "low": 37.8, "close": 38.0}, {"time": 1716940800, "open": 37.75, "high": 37.98, "low": 37.41, "close": 37.55}, {"time": 1717113600, "open": 37.69, "high": 37.69, "low": 36.76, "close": 36.85}, {"time": 1717372800, "open": 36.95, "high": 37.32, "low": 36.52, "close": 37.25}, {"time": 1717459200, "open": 37.27, "high": 37.75, "low": 37.0, "close": 37.62}, {"time": 1717718400, "open": 37.6, "high": 38.2, "low": 37.33, "close": 37.86}, {"time": 1718150400, "open": 37.86, "high": 37.86, "low": 36.75, "close": 37.3}, {"time": 1718236800, "open": 37.3, "high": 37.47, "low": 36.26, "close": 36.5}, {"time": 1718323200, "open": 36.35, "high": 36.83, "low": 36.22, "close": 36.69}, {"time": 1718668800, "open": 36.4, "high": 36.69, "low": 36.08, "close": 36.13}, {"time": 1718755200, "open": 36.2, "high": 36.45, "low": 36.0, "close": 36.38}, {"time": 1718841600, "open": 36.33, "high": 36.95, "low": 36.05, "close": 36.09}, {"time": 1718928000, "open": 35.92, "high": 36.35, "low": 35.38, "close": 35.9}, {"time": 1719273600, "open": 36.13, "high": 36.13, "low": 35.28, "close": 35.52}, {"time": 1719360000, "open": 35.46, "high": 35.83, "low": 35.12, "close": 35.75}, {"time": 1719446400, "open": 35.8, "high": 36.04, "low": 35.22, "close": 35.22}, {"time": 1719532800, "open": 35.22, "high": 35.98, "low": 35.09, "close": 35.69}, {"time": 1719878400, "open": 35.38, "high": 35.38, "low": 34.52, "close": 34.9}, {"time": 1719964800, "open": 34.91, "high": 35.05, "low": 34.41, "close": 34.42}, {"time": 1720051200, "open": 34.56, "high": 34.89, "low": 34.32, "close": 34.42}, {"time": 1720396800, "open": 34.42, "high": 34.53, "low": 33.93, "close": 34.42}, {"time": 1720483200, "open": 34.47, "high": 34.72, "low": 33.96, "close": 34.65}, {"time": 1720569600, "open": 34.56, "high": 35.19, "low": 34.49, "close": 34.85}, {"time": 1720656000, "open": 35.3, "high": 35.49, "low": 34.88, "close": 35.1}, {"time": 1720742400, "open": 35.26, "high": 35.29, "low": 34.55, "close": 35.04}, {"time": 1721001600, "open": 35.03, "high": 35.34, "low": 34.66, "close": 34.7}, {"time": 1721088000, "open": 34.53, "high": 34.87, "low": 34.31, "close": 34.72}, {"time": 1721174400, "open": 34.71, "high": 35.75, "low": 34.55, "close": 35.61}, {"time": 1721260800, "open": 35.61, "high": 36.09, "low": 35.37, "close": 35.97}, {"time": 1721692800, "open": 35.92, "high": 36.63, "low": 35.65, "close": 35.65}, {"time": 1721779200, "open": 35.65, "high": 35.83, "low": 35.1, "close": 35.27}, {"time": 1721865600, "open": 35.05, "high": 35.46, "low": 35.01, "close": 35.27}, {"time": 1721952000, "open": 35.27, "high": 35.45, "low": 34.88, "close": 34.96}, {"time": 1722211200, "open": 35.0, "high": 35.09, "low": 34.2, "close": 34.25}, {"time": 1722297600, "open": 34.2, "high": 34.2, "low": 33.46, "close": 33.77}, {"time": 1722988800, "open": 33.78, "high": 35.33, "low": 33.78, "close": 34.65}, {"time": 1723161600, "open": 34.66, "high": 35.55, "low": 34.66, "close": 34.91}, {"time": 1723420800, "open": 34.8, "high": 34.95, "low": 34.51, "close": 34.52}, {"time": 1723507200, "open": 34.57, "high": 34.6, "low": 33.87, "close": 34.1}, {"time": 1723593600, "open": 34.08, "high": 34.09, "low": 33.56, "close": 33.75}, {"time": 1723680000, "open": 33.76, "high": 34.4, "low": 33.65, "close": 34.37}, {"time": 1723766400, "open": 34.3, "high": 34.68, "low": 34.23, "close": 34.63}, {"time": 1724025600, "open": 34.54, "high": 35.25, "low": 34.29, "close": 34.34}, {"time": 1724112000, "open": 34.35, "high": 34.5, "low": 34.02, "close": 34.2}, {"time": 1724198400, "open": 34.1, "high": 34.55, "low": 34.06, "close": 34.28}, {"time": 1724284800, "open": 34.3, "high": 34.46, "low": 33.91, "close": 34.07}, {"time": 1724371200, "open": 34.07, "high": 34.6, "low": 33.99, "close": 34.57}, {"time": 1724630400, "open": 34.5, "high": 34.73, "low": 34.24, "close": 34.5}, {"time": 1724716800, "open": 34.5, "high": 34.53, "low": 33.7, "close": 33.99}, {"time": 1724803200, "open": 33.88, "high": 34.0, "low": 32.96, "close": 33.23}, {"time": 1724889600, "open": 33.99, "high": 35.69, "low": 33.72, "close": 35.64}, {"time": 1725235200, "open": 35.62, "high": 36.94, "low": 35.62, "close": 36.25}, {"time": 1725321600, "open": 36.18, "high": 37.28, "low": 36.12, "close": 37.21}, {"time": 1725408000, "open": 37.23, "high": 37.63, "low": 36.75, "close": 37.0}, {"time": 1725580800, "open": 37.01, "high": 37.09, "low": 36.29, "close": 36.33}, {"time": 1725840000, "open": 36.39, "high": 36.71, "low": 36.0, "close": 36.15}, {"time": 1725926400, "open": 36.17, "high": 36.33, "low": 35.9, "close": 36.23}, {"time": 1726012800, "open": 36.18, "high": 36.7, "low": 36.0, "close": 36.47}, {"time": 1726099200, "open": 36.47, "high": 36.75, "low": 36.11, "close": 36.29}, {"time": 1726617600, "open": 36.28, "high": 36.59, "low": 35.8, "close": 36.59}, {"time": 1726704000, "open": 36.73, "high": 37.41, "low": 36.36, "close": 36.92}, {"time": 1726790400, "open": 36.91, "high": 37.99, "low": 36.71, "close": 37.56}, {"time": 1727049600, "open": 37.53, "high": 38.2, "low": 37.36, "close": 37.56}, {"time": 1727136000, "open": 38.1, "high": 38.25, "low": 37.5, "close": 38.25}, {"time": 1727308800, "open": 38.89, "high": 40.57, "low": 38.47, "close": 40.56}, {"time": 1727395200, "open": 41.37, "high": 43.46, "low": 41.19, "close": 42.68}, {"time": 1727654400, "open": 43.84, "high": 45.56, "low": 43.5, "close": 44.98}, {"time": 1728345600, "open": 49.38, "high": 49.38, "low": 43.66, "close": 44.65}, {"time": 1728604800, "open": 43.89, "high": 43.89, "low": 41.0, "close": 41.73}, {"time": 1728950400, "open": 42.07, "high": 43.98, "low": 42.07, "close": 42.48}, {"time": 1729036800, "open": 42.0, "high": 42.75, "low": 41.7, "close": 42.36}, {"time": 1729209600, "open": 42.4, "high": 43.1, "low": 41.95, "close": 42.52}, {"time": 1729468800, "open": 42.53, "high": 42.73, "low": 41.88, "close": 42.3}, {"time": 1729555200, "open": 42.28, "high": 43.44, "low": 42.0, "close": 43.39}, {"time": 1729641600, "open": 43.39, "high": 44.1, "low": 43.14, "close": 43.3}, {"time": 1729728000, "open": 43.05, "high": 43.58, "low": 42.93, "close": 43.15}, {"time": 1729814400, "open": 43.16, "high": 44.05, "low": 43.15, "close": 43.4}, {"time": 1730160000, "open": 43.49, "high": 43.49, "low": 42.6, "close": 43.05}, {"time": 1730246400, "open": 44.3, "high": 44.99, "low": 43.69, "close": 44.21}, {"time": 1730332800, "open": 44.3, "high": 44.95, "low": 43.4, "close": 44.66}, {"time": 1730419200, "open": 44.5, "high": 45.6, "low": 44.47, "close": 45.33}, {"time": 1730764800, "open": 45.36, "high": 46.3, "low": 45.36, "close": 46.09}, {"time": 1730851200, "open": 46.18, "high": 46.18, "low": 45.3, "close": 45.65}, {"time": 1730937600, "open": 44.0, "high": 44.76, "low": 43.74, "close": 44.74}, {"time": 1731024000, "open": 44.92, "high": 45.49, "low": 44.6, "close": 44.92}, {"time": 1731283200, "open": 44.48, "high": 44.56, "low": 43.43, "close": 44.39}, {"time": 1731369600, "open": 44.56, "high": 46.09, "low": 44.4, "close": 44.65}, {"time": 1731456000, "open": 44.48, "high": 45.16, "low": 44.04, "close": 45.04}, {"time": 1731542400, "open": 44.72, "high": 44.8, "low": 43.9, "close": 44.0}, {"time": 1731628800, "open": 43.75, "high": 44.0, "low": 42.87, "close": 42.92}, {"time": 1731888000, "open": 42.92, "high": 43.28, "low": 42.25, "close": 42.32}, {"time": 1731974400, "open": 42.3, "high": 42.97, "low": 41.81, "close": 42.32}, {"time": 1732060800, "open": 42.5, "high": 42.6, "low": 41.7, "close": 42.03}, {"time": 1732233600, "open": 42.21, "high": 42.26, "low": 41.11, "close": 41.16}, {"time": 1732492800, "open": 41.7, "high": 42.3, "low": 41.39, "close": 42.0}, {"time": 1732579200, "open": 42.01, "high": 42.67, "low": 41.5, "close": 42.07}, {"time": 1732752000, "open": 41.65, "high": 42.06, "low": 40.7, "close": 41.05}, {"time": 1732838400, "open": 41.0, "high": 41.28, "low": 40.51, "close": 41.22}, {"time": 1733184000, "open": 40.98, "high": 41.57, "low": 40.72, "close": 41.09}, {"time": 1733270400, "open": 41.0, "high": 41.0, "low": 40.38, "close": 40.51}, {"time": 1733356800, "open": 40.31, "high": 40.46, "low": 40.09, "close": 40.22}, {"time": 1733443200, "open": 40.3, "high": 40.86, "low": 40.15, "close": 40.58}, {"time": 1733702400, "open": 40.58, "high": 41.21, "low": 40.25, "close": 40.83}, {"time": 1733788800, "open": 42.18, "high": 42.68, "low": 41.25, "close": 41.34}, {"time": 1734048000, "open": 41.34, "high": 42.15, "low": 40.86, "close": 41.54}, {"time": 1734307200, "open": 41.48, "high": 41.51, "low": 40.0, "close": 40.2}, {"time": 1734393600, "open": 40.0, "high": 40.45, "low": 39.85, "close": 40.39}, {"time": 1734912000, "open": 40.44, "high": 41.28, "low": 40.25, "close": 40.65}, {"time": 1734998400, "open": 40.6, "high": 41.45, "low": 40.51, "close": 41.2}, {"time": 1735084800, "open": 41.18, "high": 41.21, "low": 40.49, "close": 40.7}, {"time": 1735257600, "open": 40.7, "high": 40.75, "low": 40.19, "close": 40.65}, {"time": 1735516800, "open": 40.61, "high": 41.76, "low": 40.51, "close": 40.87}, {"time": 1735603200, "open": 40.77, "high": 40.87, "low": 40.21, "close": 40.3}, {"time": 1735776000, "open": 40.3, "high": 40.33, "low": 38.89, "close": 39.08}, {"time": 1735862400, "open": 39.08, "high": 39.94, "low": 38.86, "close": 39.45}, {"time": 1736121600, "open": 39.88, "high": 40.05, "low": 39.27, "close": 39.71}, {"time": 1736208000, "open": 39.63, "high": 40.28, "low": 39.35, "close": 40.24}, {"time": 1736294400, "open": 40.09, "high": 40.13, "low": 39.32, "close": 39.88}, {"time": 1736380800, "open": 39.61, "high": 40.04, "low": 39.25, "close": 39.8}, {"time": 1736467200, "open": 39.8, "high": 39.94, "low": 39.19, "close": 39.19}, {"time": 1736726400, "open": 38.8, "high": 39.4, "low": 38.75, "close": 39.39}, {"time": 1736812800, "open": 39.45, "high": 40.56, "low": 39.25, "close": 40.5}, {"time": 1736899200, "open": 40.53, "high": 40.88, "low": 40.2, "close": 40.6}, {"time": 1736985600, "open": 40.72, "high": 40.82, "low": 39.39, "close": 39.41}, {"time": 1737072000, "open": 39.37, "high": 39.9, "low": 39.05, "close": 39.71}, {"time": 1737331200, "open": 39.98, "high": 40.24, "low": 39.5, "close": 39.52}, {"time": 1737417600, "open": 39.6, "high": 39.8, "low": 38.99, "close": 39.06}, {"time": 1737504000, "open": 39.01, "high": 39.06, "low": 38.53, "close": 38.96}, {"time": 1737590400, "open": 39.21, "high": 39.52, "low": 38.63, "close": 38.65}, {"time": 1737676800, "open": 38.75, "high": 38.9, "low": 38.43, "close": 38.53}, {"time": 1738713600, "open": 38.65, "high": 39.65, "low": 38.65, "close": 39.31}, {"time": 1738800000, "open": 39.1, "high": 40.19, "low": 39.1, "close": 40.15}, {"time": 1739232000, "open": 40.13, "high": 40.75, "low": 40.13, "close": 40.42}, {"time": 1739404800, "open": 40.48, "high": 40.56, "low": 39.87, "close": 40.31}, {"time": 1739750400, "open": 40.35, "high": 40.9, "low": 40.2, "close": 40.33}, {"time": 1739836800, "open": 40.34, "high": 40.45, "low": 39.75, "close": 40.4}, {"time": 1739923200, "open": 40.16, "high": 41.64, "low": 40.1, "close": 41.25}, {"time": 1740355200, "open": 41.3, "high": 42.99, "low": 41.3, "close": 41.54}, {"time": 1740441600, "open": 41.3, "high": 41.35, "low": 40.83, "close": 40.89}, {"time": 1740528000, "open": 41.0, "high": 41.16, "low": 40.52, "close": 40.74}, {"time": 1740614400, "open": 40.8, "high": 41.87, "low": 40.53, "close": 41.65}, {"time": 1740700800, "open": 41.68, "high": 42.29, "low": 41.54, "close": 41.72}, {"time": 1740960000, "open": 41.72, "high": 42.67, "low": 41.71, "close": 42.12}, {"time": 1741046400, "open": 42.0, "high": 42.28, "low": 41.6, "close": 41.82}, {"time": 1741132800, "open": 41.88, "high": 42.5, "low": 41.65, "close": 42.2}, {"time": 1741219200, "open": 42.41, "high": 42.72, "low": 42.02, "close": 42.37}, {"time": 1741305600, "open": 42.25, "high": 42.58, "low": 41.96, "close": 42.14}, {"time": 1741651200, "open": 42.14, "high": 42.44, "low": 41.62, "close": 42.33}, {"time": 1741737600, "open": 42.33, "high": 43.19, "low": 41.86, "close": 43.04}, {"time": 1741824000, "open": 42.8, "high": 43.65, "low": 42.71, "close": 43.65}, {"time": 1741910400, "open": 43.8, "high": 44.2, "low": 43.34, "close": 44.1}, {"time": 1742169600, "open": 44.4, "high": 44.45, "low": 43.5, "close": 43.66}, {"time": 1742256000, "open": 43.66, "high": 43.77, "low": 43.44, "close": 43.5}, {"time": 1742342400, "open": 43.44, "high": 43.66, "low": 43.25, "close": 43.5}, {"time": 1742515200, "open": 43.4, "high": 43.44, "low": 42.51, "close": 42.73}, {"time": 1742774400, "open": 42.65, "high": 43.21, "low": 42.33, "close": 42.52}, {"time": 1742860800, "open": 42.63, "high": 42.75, "low": 42.13, "close": 42.3}, {"time": 1743033600, "open": 42.24, "high": 42.46, "low": 41.92, "close": 42.33}, {"time": 1743120000, "open": 42.22, "high": 42.33, "low": 41.8, "close": 42.04}, {"time": 1743379200, "open": 42.23, "high": 43.93, "low": 42.15, "close": 43.12}, {"time": 1743552000, "open": 43.12, "high": 44.05, "low": 43.12, "close": 43.32}, {"time": 1743638400, "open": 42.6, "high": 43.53, "low": 42.58, "close": 43.42}, {"time": 1744156800, "open": 41.46, "high": 41.46, "low": 39.28, "close": 40.86}, {"time": 1744329600, "open": 41.39, "high": 42.65, "low": 41.39, "close": 41.88}, {"time": 1744675200, "open": 41.98, "high": 42.79, "low": 41.98, "close": 42.23}, {"time": 1744761600, "open": 42.0, "high": 42.4, "low": 41.66, "close": 42.27}, {"time": 1744848000, "open": 42.0, "high": 42.51, "low": 41.71, "close": 42.36}, {"time": 1745193600, "open": 42.36, "high": 43.35, "low": 42.36, "close": 42.84}, {"time": 1745798400, "open": 42.84, "high": 43.67, "low": 42.84, "close": 43.22}, {"time": 1745884800, "open": 43.11, "high": 43.55, "low": 42.05, "close": 43.36}, {"time": 1746748800, "open": 43.33, "high": 44.26, "low": 43.33, "close": 43.67}, {"time": 1747180800, "open": 44.0, "high": 44.0, "low": 43.02, "close": 43.99}, {"time": 1747267200, "open": 43.9, "high": 44.18, "low": 43.76, "close": 43.78}, {"time": 1747353600, "open": 43.68, "high": 43.97, "low": 43.12, "close": 43.15}, {"time": 1747612800, "open": 43.17, "high": 43.33, "low": 42.78, "close": 43.0}, {"time": 1747699200, "open": 42.95, "high": 46.09, "low": 42.91, "close": 45.85}, {"time": 1747872000, "open": 46.16, "high": 46.7, "low": 45.85, "close": 46.25}, {"time": 1747958400, "open": 46.2, "high": 46.56, "low": 45.5, "close": 45.63}, {"time": 1748217600, "open": 45.62, "high": 46.04, "low": 44.95, "close": 45.62}, {"time": 1748304000, "open": 45.4, "high": 46.09, "low": 45.2, "close": 45.37}, {"time": 1748563200, "open": 45.36, "high": 47.2, "low": 45.36, "close": 46.15}, {"time": 1748908800, "open": 45.9, "high": 48.07, "low": 45.85, "close": 47.92}, {"time": 1748995200, "open": 47.8, "high": 48.18, "low": 47.15, "close": 47.25}, {"time": 1749081600, "open": 47.27, "high": 48.2, "low": 47.27, "close": 47.38}, {"time": 1749168000, "open": 47.5, "high": 47.65, "low": 46.81, "close": 46.9}, {"time": 1749427200, "open": 46.97, "high": 47.23, "low": 46.47, "close": 46.78}, {"time": 1749513600, "open": 46.76, "high": 47.16, "low": 46.24, "close": 46.44}, {"time": 1749600000, "open": 46.6, "high": 47.58, "low": 46.45, "close": 46.9}, {"time": 1749686400, "open": 46.77, "high": 48.99, "low": 46.67, "close": 48.78}, {"time": 1749772800, "open": 48.4, "high": 49.29, "low": 48.2, "close": 48.99}, {"time": 1750032000, "open": 48.95, "high": 50.17, "low": 48.56, "close": 49.8}, {"time": 1750204800, "open": 50.1, "high": 50.5, "low": 49.6, "close": 50.15}, {"time": 1750291200, "open": 50.0, "high": 50.1, "low": 48.97, "close": 49.16}, {"time": 1750809600, "open": 49.44, "high": 51.13, "low": 49.44, "close": 50.29}, {"time": 1751241600, "open": 48.8, "high": 49.21, "low": 47.5, "close": 48.76}, {"time": 1751328000, "open": 48.77, "high": 49.66, "low": 48.74, "close": 49.2}, {"time": 1751414400, "open": 49.45, "high": 49.46, "low": 48.2, "close": 48.27}, {"time": 1751846400, "open": 48.24, "high": 48.24, "low": 47.19, "close": 47.76}, {"time": 1751932800, "open": 47.77, "high": 47.88, "low": 47.18, "close": 47.73}, {"time": 1752019200, "open": 47.7, "high": 48.15, "low": 47.51, "close": 47.67}, {"time": 1752105600, "open": 47.74, "high": 48.98, "low": 47.71, "close": 48.15}, {"time": 1752192000, "open": 48.26, "high": 48.6, "low": 47.25, "close": 47.35}, {"time": 1752451200, "open": 47.12, "high": 47.77, "low": 47.12, "close": 47.48}, {"time": 1752537600, "open": 47.58, "high": 47.63, "low": 46.79, "close": 46.96}, {"time": 1752624000, "open": 46.97, "high": 47.18, "low": 46.61, "close": 47.04}, {"time": 1752710400, "open": 46.64, "high": 46.91, "low": 46.29, "close": 46.36}, {"time": 1752796800, "open": 46.37, "high": 47.86, "low": 46.35, "close": 47.71}, {"time": 1753056000, "open": 47.75, "high": 48.28, "low": 47.43, "close": 47.6}, {"time": 1753142400, "open": 47.55, "high": 47.8, "low": 46.94, "close": 47.76}, {"time": 1753228800, "open": 47.85, "high": 47.97, "low": 47.0, "close": 47.63}, {"time": 1753401600, "open": 47.6, "high": 48.87, "low": 47.43, "close": 47.95}, {"time": 1753660800, "open": 48.0, "high": 48.22, "low": 47.36, "close": 47.58}, {"time": 1753747200, "open": 47.42, "high": 47.64, "low": 46.95, "close": 47.49}, {"time": 1753833600, "open": 47.66, "high": 48.54, "low": 47.5, "close": 47.68}, {"time": 1753920000, "open": 47.36, "high": 47.66, "low": 45.9, "close": 46.0}, {"time": 1754265600, "open": 46.13, "high": 46.49, "low": 45.8, "close": 46.44}, {"time": 1754438400, "open": 46.44, "high": 46.68, "low": 46.25, "close": 46.42}, {"time": 1754524800, "open": 46.54, "high": 47.32, "low": 46.43, "close": 47.12}, {"time": 1754611200, "open": 47.07, "high": 47.83, "low": 46.87, "close": 47.58}, {"time": 1754870400, "open": 47.5, "high": 47.58, "low": 46.81, "close": 47.1}, {"time": 1754956800, "open": 47.08, "high": 47.2, "low": 46.69, "close": 46.88}, {"time": 1755043200, "open": 46.95, "high": 47.1, "low": 46.41, "close": 46.8}, {"time": 1755129600, "open": 46.8, "high": 47.19, "low": 46.65, "close": 46.7}, {"time": 1755475200, "open": 46.6, "high": 46.78, "low": 45.9, "close": 46.78}, {"time": 1755648000, "open": 46.74, "high": 48.12, "low": 46.38, "close": 48.0}, {"time": 1755820800, "open": 48.0, "high": 48.55, "low": 47.68, "close": 47.92}, {"time": 1756080000, "open": 48.21, "high": 48.6, "low": 47.79, "close": 48.34}, {"time": 1756166400, "open": 48.3, "high": 49.6, "low": 48.18, "close": 48.96}, {"time": 1756252800, "open": 48.93, "high": 49.02, "low": 47.82, "close": 47.91}, {"time": 1756339200, "open": 47.78, "high": 48.42, "low": 47.51, "close": 48.4}, {"time": 1756425600, "open": 47.92, "high": 47.92, "low": 43.88, "close": 44.57}, {"time": 1756684800, "open": 44.57, "high": 44.58, "low": 42.67, "close": 42.8}, {"time": 1756857600, "open": 42.8, "high": 42.8, "low": 41.68, "close": 42.03}, {"time": 1756944000, "open": 42.17, "high": 42.24, "low": 41.59, "close": 41.72}, {"time": 1757030400, "open": 41.78, "high": 42.07, "low": 41.47, "close": 42.02}, {"time": 1757376000, "open": 42.02, "high": 42.73, "low": 42.0, "close": 42.08}, {"time": 1757462400, "open": 42.09, "high": 42.18, "low": 41.88, "close": 42.08}, {"time": 1757548800, "open": 41.84, "high": 41.96, "low": 41.58, "close": 41.94}, {"time": 1757635200, "open": 41.94, "high": 41.98, "low": 41.6, "close": 41.72}, {"time": 1757894400, "open": 41.72, "high": 41.89, "low": 41.54, "close": 41.66}, {"time": 1757980800, "open": 41.3, "high": 41.46, "low": 41.11, "close": 41.19}, {"time": 1758067200, "open": 41.19, "high": 41.3, "low": 40.86, "close": 41.07}, {"time": 1758153600, "open": 40.9, "high": 41.07, "low": 40.42, "close": 40.53}, {"time": 1758240000, "open": 40.54, "high": 41.29, "low": 40.53, "close": 41.08}, {"time": 1758499200, "open": 40.88, "high": 40.98, "low": 40.17, "close": 40.32}, {"time": 1758585600, "open": 40.18, "high": 40.37, "low": 39.71, "close": 40.06}, {"time": 1758758400, "open": 40.06, "high": 40.58, "low": 39.99, "close": 40.08}, {"time": 1758844800, "open": 40.0, "high": 40.12, "low": 39.58, "close": 40.07}, {"time": 1759104000, "open": 39.99, "high": 40.17, "low": 39.64, "close": 39.99}, {"time": 1759968000, "open": 40.0, "high": 40.61, "low": 39.9, "close": 40.45}, {"time": 1760054400, "open": 40.45, "high": 41.4, "low": 40.35, "close": 41.17}, {"time": 1760313600, "open": 40.37, "high": 41.19, "low": 40.2, "close": 41.0}, {"time": 1760572800, "open": 41.01, "high": 41.25, "low": 40.66, "close": 40.85}, {"time": 1761091200, "open": 40.7, "high": 40.7, "low": 40.06, "close": 40.18}, {"time": 1761264000, "open": 40.13, "high": 40.17, "low": 39.73, "close": 39.88}, {"time": 1761609600, "open": 40.0, "high": 40.68, "low": 40.0, "close": 40.46}, {"time": 1761696000, "open": 40.47, "high": 40.78, "low": 40.2, "close": 40.75}, {"time": 1761782400, "open": 40.8, "high": 41.37, "low": 40.6, "close": 40.93}, {"time": 1761868800, "open": 40.12, "high": 40.41, "low": 39.84, "close": 40.33}, {"time": 1762128000, "open": 40.22, "high": 40.36, "low": 39.81, "close": 40.01}, {"time": 1762214400, "open": 39.89, "high": 40.03, "low": 39.7, "close": 39.85}, {"time": 1762300800, "open": 39.7, "high": 39.75, "low": 39.46, "close": 39.63}, {"time": 1762387200, "open": 39.59, "high": 40.08, "low": 39.51, "close": 40.03}, {"time": 1762473600, "open": 39.91, "high": 40.28, "low": 39.83, "close": 39.98}, {"time": 1762732800, "open": 40.0, "high": 40.87, "low": 39.84, "close": 40.8}, {"time": 1762819200, "open": 40.8, "high": 40.94, "low": 40.41, "close": 40.51}, {"time": 1763078400, "open": 40.51, "high": 40.58, "low": 40.2, "close": 40.29}, {"time": 1763337600, "open": 40.29, "high": 40.29, "low": 39.71, "close": 39.76}, {"time": 1763510400, "open": 39.71, "high": 39.83, "low": 39.52, "close": 39.68}, {"time": 1763596800, "open": 39.67, "high": 39.86, "low": 39.6, "close": 39.63}, {"time": 1763683200, "open": 39.24, "high": 39.63, "low": 38.8, "close": 39.11}, {"time": 1763942400, "open": 39.11, "high": 39.41, "low": 38.75, "close": 39.41}, {"time": 1764028800, "open": 39.27, "high": 39.5, "low": 39.13, "close": 39.25}, {"time": 1764115200, "open": 39.22, "high": 39.38, "low": 39.06, "close": 39.25}, {"time": 1764201600, "open": 39.17, "high": 39.23, "low": 38.79, "close": 38.79}, {"time": 1764288000, "open": 38.68, "high": 38.74, "low": 38.33, "close": 38.37}, {"time": 1764633600, "open": 38.3, "high": 38.41, "low": 37.91, "close": 37.91}, {"time": 1764720000, "open": 37.81, "high": 38.09, "low": 37.8, "close": 38.0}, {"time": 1764806400, "open": 37.98, "high": 38.0, "low": 37.67, "close": 37.86}, {"time": 1764892800, "open": 37.84, "high": 38.22, "low": 37.83, "close": 38.22}, {"time": 1765152000, "open": 38.3, "high": 38.34, "low": 38.02, "close": 38.08}, {"time": 1765238400, "open": 38.08, "high": 38.1, "low": 37.5, "close": 37.51}, {"time": 1765497600, "open": 37.41, "high": 37.48, "low": 37.03, "close": 37.43}, {"time": 1765843200, "open": 37.2, "high": 37.79, "low": 37.2, "close": 37.63}, {"time": 1765929600, "open": 37.51, "high": 38.08, "low": 37.46, "close": 37.93}, {"time": 1766016000, "open": 37.81, "high": 38.29, "low": 37.76, "close": 38.19}, {"time": 1766361600, "open": 38.2, "high": 38.37, "low": 37.92, "close": 38.31}, {"time": 1766448000, "open": 38.32, "high": 38.49, "low": 38.2, "close": 38.27}, {"time": 1766534400, "open": 38.23, "high": 38.36, "low": 38.08, "close": 38.19}, {"time": 1766620800, "open": 38.26, "high": 38.49, "low": 38.21, "close": 38.28}, {"time": 1766707200, "open": 38.28, "high": 38.62, "low": 38.23, "close": 38.49}, {"time": 1766966400, "open": 38.42, "high": 38.73, "low": 38.32, "close": 38.63}];
        const indicators = [{"name": "EMA20", "data": [{"time": 1704153600, "value": 39.2}, {"time": 1704240000, "value": 39.16095238095238}, {"time": 1704672000, "value": 39.07895691609977}, {"time": 1704758400, "value": 39.067627685995035}, {"time": 1704844800, "value": 39.06499647780503}, {"time": 1704931200, "value": 39.10166347991884}, {"time": 1705017600, "value": 39.07769552945038}, {"time": 1705363200, "value": 39.09886738378844}, {"time": 1705449600, "value": 39.06088001390382}, {"time": 1705622400, "value": 38.99317715543679}, {"time": 1705881600, "value": 38.86620790253805}, {"time": 1706054400, "value": 38.757997626105855}, {"time": 1706140800, "value": 38.72580737600054}, {"time": 1706227200, "value": 38.64334953066715}, {"time": 1706486400, "value": 38.47255433727028}, {"time": 1706745600, "value": 38.11421582895883}, {"time": 1706832000, "value": 37.73000479762941}, {"time": 1707091200, "value": 37.41095672166471}, {"time": 1707177600, "value": 37.3003894148395}, {"time": 1707264000, "value": 37.256542803902406}, {"time": 1707350400, "value": 37.284491108292656}, {"time": 1708300800, "value": 37.33739671702669}, {"time": 1708387200, "value": 37.42621607730987}, {"time": 1708646400, "value": 37.60943359375655}, {"time": 1708905600, "value": 37.759011346732116}, {"time": 1708992000, "value": 37.859105504186196}, {"time": 1709078400, "value": 37.87252402759704}, {"time": 1709164800, "value": 37.91799792973065}, {"time": 1709251200, "value": 37.9305695554706}, {"time": 1709510400, "value": 37.92670578828292}, {"time": 1709769600, "value": 37.858448094160735}, {"time": 1709856000, "value": 37.80907208519305}, {"time": 1710115200, "value": 37.833922362793714}, {"time": 1710201600, "value": 37.964977375860975}, {"time": 1710374400, "value": 38.0340271495885}, {"time": 1710460800, "value": 38.123167421056266}, {"time": 1710892800, "value": 38.22858004762233}, {"time": 1710979200, "value": 38.28014385261068}, {"time": 1711065600, "value": 38.2572730095049}, {"time": 1711324800, "value": 38.21086605621872}, {"time": 1711411200, "value": 38.18506928895979}, {"time": 1712016000, "value": 37.954110309058855}, {"time": 1712102400, "value": 37.70514742248182}, {"time": 1712534400, "value": 37.432276239388315}, {"time": 1712620800, "value": 37.18729754992276}, {"time": 1712707200, "value": 36.92469778326345}, {"time": 1712880000, "value": 36.67377418485741}, {"time": 1713312000, "value": 36.500081405347174}, {"time": 1713398400, "value": 36.34769270007602}, {"time": 1713484800, "value": 36.162198157211634}, {"time": 1713916800, "value": 36.060084047001006}, {"time": 1714003200, "value": 36.062933185381866}, {"time": 1714089600, "value": 36.08932050105978}, {"time": 1714348800, "value": 36.12081378667314}, {"time": 1714435200, "value": 36.13311723556141}, {"time": 1715040000, "value": 36.24520130836508}, {"time": 1715126400, "value": 36.30470594566365}, {"time": 1715212800, "value": 36.43282918893378}, {"time": 1715299200, "value": 36.557321647130564}, {"time": 1715558400, "value": 36.62805291883242}, {"time": 1715731200, "value": 36.63109549799123}, {"time": 1715817600, "value": 36.60718164103969}, {"time": 1715904000, "value": 36.7360214847502}, {"time": 1716163200, "value": 36.884019438583515}, {"time": 1716422400, "value": 37.03982711109937}, {"time": 1716768000, "value": 37.131272148137526}, {"time": 1716940800, "value": 37.17115099117205}, {"time": 1717113600, "value": 37.140565182489}, {"time": 1717372800, "value": 37.15098754606147}, {"time": 1717459200, "value": 37.19565539881752}, {"time": 1717718400, "value": 37.25892631321585}, {"time": 1718150400, "value": 37.262838092909575}, {"time": 1718236800, "value": 37.190186845965805}, {"time": 1718323200, "value": 37.14255000349287}, {"time": 1718668800, "value": 37.04611666982689}, {"time": 1718755200, "value": 36.982676986986235}, {"time": 1718841600, "value": 36.89766013108279}, {"time": 1718928000, "value": 36.80264488050347}, {"time": 1719273600, "value": 36.680488225217424}, {"time": 1719360000, "value": 36.59187029900624}, {"time": 1719446400, "value": 36.46121598481517}, {"time": 1719532800, "value": 36.3877668434042}, {"time": 1719878400, "value": 36.24607476307999}, {"time": 1719964800, "value": 36.0721628808819}, {"time": 1720051200, "value": 35.91481403508362}, {"time": 1720396800, "value": 35.77245079364709}, {"time": 1720483200, "value": 35.66555071806165}, {"time": 1720569600, "value": 35.5878792211034}, {"time": 1720656000, "value": 35.54141453337927}, {"time": 1720742400, "value": 35.49366076829553}, {"time": 1721001600, "value": 35.41807402845786}, {"time": 1721088000, "value": 35.35159078765235}, {"time": 1721174400, "value": 35.37620118882832}, {"time": 1721260800, "value": 35.432753456558956}, {"time": 1721692800, "value": 35.45344360355334}, {"time": 1721779200, "value": 35.43597278416731}, {"time": 1721865600, "value": 35.42016585234186}, {"time": 1721952000, "value": 35.3763405330712}, {"time": 1722211200, "value": 35.26907000611204}, {"time": 1722297600, "value": 35.126301434101364}, {"time": 1722988800, "value": 35.080939392758374}, {"time": 1723161600, "value": 35.06465945059091}, {"time": 1723420800, "value": 35.01278712196321}, {"time": 1723507200, "value": 34.92585501510957}, {"time": 1723593600, "value": 34.81386882319437}, {"time": 1723680000, "value": 34.77159560193776}, {"time": 1723766400, "value": 34.758110306515114}, {"time": 1724025600, "value": 34.7182902773232}, {"time": 1724112000, "value": 34.668929298530514}, {"time": 1724198400, "value": 34.63188841295618}, {"time": 1724284800, "value": 34.57837523076987}, {"time": 1724371200, "value": 34.577577589744166}, {"time": 1724630400, "value": 34.57018924786377}, {"time": 1724716800, "value": 34.5149331290196}, {"time": 1724803200, "value": 34.39255854530345}, {"time": 1724889600, "value": 34.51136249336979}, {"time": 1725235200, "value": 34.67694701781076}, {"time": 1725321600, "value": 34.91819015897164}, {"time": 1725408000, "value": 35.1164577628791}, {"time": 1725580800, "value": 35.23203321403347}, {"time": 1725840000, "value": 35.31945862222076}, {"time": 1725926400, "value": 35.406176848675926}, {"time": 1726012800, "value": 35.50749333927822}, {"time": 1726099200, "value": 35.58201778315649}, {"time": 1726617600, "value": 35.678016089522536}, {"time": 1726704000, "value": 35.79630027147277}, {"time": 1726790400, "value": 35.964271674189646}, {"time": 1727049600, "value": 36.1162458004573}, {"time": 1727136000, "value": 36.31946048612804}, {"time": 1727308800, "value": 36.72332139221108}, {"time": 1727395200, "value": 37.29062411676241}, {"time": 1727654400, "value": 38.022945629451705}, {"time": 1728345600, "value": 38.65409366474202}, {"time": 1728604800, "value": 38.94703712524278}, {"time": 1728950400, "value": 39.28350977998156}, {"time": 1729036800, "value": 39.576508848554745}, {"time": 1729209600, "value": 39.85684133916858}, {"time": 1729468800, "value": 40.08952311639062}, {"time": 1729555200, "value": 40.40385424816294}, {"time": 1729641600, "value": 40.6796776530998}, {"time": 1729728000, "value": 40.91494644804268}, {"time": 1729814400, "value": 41.151618214895755}, {"time": 1730160000, "value": 41.33241648014378}, {"time": 1730246400, "value": 41.60647205346342}, {"time": 1730332800, "value": 41.89728423884785}, {"time": 1730419200, "value": 42.224209549433766}, {"time": 1730764800, "value": 42.59238006853531}, {"time": 1730851200, "value": 42.883581966770045}, {"time": 1730937600, "value": 43.06038368422052}, {"time": 1731024000, "value": 43.23749000000904}, {"time": 1731283200, "value": 43.347252857151034}, {"time": 1731369600, "value": 43.47132401361284}, {"time": 1731456000, "value": 43.62072172660209}, {"time": 1731542400, "value": 43.6568434669257}, {"time": 1731628800, "value": 43.586667898647065}, {"time": 1731888000, "value": 43.46603286068068}, {"time": 1731974400, "value": 43.356886873949186}, {"time": 1732060800, "value": 43.23051669547784}, {"time": 1732233600, "value": 43.033324629241854}, {"time": 1732492800, "value": 42.93491275979025}, {"time": 1732579200, "value": 42.852540116000704}, {"time": 1732752000, "value": 42.680869628762544}, {"time": 1732838400, "value": 42.541739187928016}, {"time": 1733184000, "value": 42.40347831288725}, {"time": 1733270400, "value": 42.223147044993226}, {"time": 1733356800, "value": 42.03237113594625}, {"time": 1733443200, "value": 41.894050075379944}, {"time": 1733702400, "value": 41.79271197296281}, {"time": 1733788800, "value": 41.74959654696636}, {"time": 1734048000, "value": 41.729634971064804}, {"time": 1734307200, "value": 41.58395545001101}, {"time": 1734393600, "value": 41.47024540715282}, {"time": 1734912000, "value": 41.39212679694779}, {"time": 1734998400, "value": 41.373829006762286}, {"time": 1735084800, "value": 41.30965481564206}, {"time": 1735257600, "value": 41.24683054748568}, {"time": 1735516800, "value": 41.21094192391562}, {"time": 1735603200, "value": 41.12418555020937}, {"time": 1735776000, "value": 40.92950121209419}, {"time": 1735862400, "value": 40.78859633475189}, {"time": 1736121600, "value": 40.68587287429933}, {"time": 1736208000, "value": 40.643408791032726}, {"time": 1736294400, "value": 40.57070319188675}, {"time": 1736380800, "value": 40.49730288789754}, {"time": 1736467200, "value": 40.37279785095492}, {"time": 1736726400, "value": 40.279198055625876}, {"time": 1736812800, "value": 40.300226812232935}, {"time": 1736899200, "value": 40.32877663963932}, {"time": 1736985600, "value": 40.24127410253081}, {"time": 1737072000, "value": 40.19067656895645}, {"time": 1737331200, "value": 40.12680261000821}, {"time": 1737417600, "value": 40.025202361436}, {"time": 1737504000, "value": 39.92375451748972}, {"time": 1737590400, "value": 39.80244456344308}, {"time": 1737676800, "value": 39.68125936692469}, {"time": 1738713600, "value": 39.64590133197949}, {"time": 1738800000, "value": 39.69391072893382}, {"time": 1739232000, "value": 39.76306208808298}, {"time": 1739404800, "value": 39.81515141302746}, {"time": 1739750400, "value": 39.86418461178675}, {"time": 1739836800, "value": 39.91521464875944}, {"time": 1739923200, "value": 40.0423370631633}, {"time": 1740355200, "value": 40.18497162857632}, {"time": 1740441600, "value": 40.25211718775953}, {"time": 1740528000, "value": 40.29858221749672}, {"time": 1740614400, "value": 40.427288672973226}, {"time": 1740700800, "value": 40.55040403745197}, {"time": 1740960000, "value": 40.69988936721845}, {"time": 1741046400, "value": 40.8065665703405}, {"time": 1741132800, "value": 40.93927451602236}, {"time": 1741219200, "value": 41.075534085924986}, {"time": 1741305600, "value": 41.17691179202737}, {"time": 1741651200, "value": 41.28672971659619}, {"time": 1741737600, "value": 41.453707838825125}, {"time": 1741824000, "value": 41.66287852084178}, {"time": 1741910400, "value": 41.89498532838066}, {"time": 1742169600, "value": 42.06308196377298}, {"time": 1742256000, "value": 42.1999313005565}, {"time": 1742342400, "value": 42.32374736717017}, {"time": 1742515200, "value": 42.362438094106345}, {"time": 1742774400, "value": 42.37744398990574}, {"time": 1742860800, "value": 42.370068371819485}, {"time": 1743033600, "value": 42.3662523364081}, {"time": 1743120000, "value": 42.33518068532162}, {"time": 1743379200, "value": 42.409925381957656}, {"time": 1743552000, "value": 42.49659915510455}, {"time": 1743638400, "value": 42.58454209271364}, {"time": 1744156800, "value": 42.420299988645674}, {"time": 1744329600, "value": 42.368842846869896}, {"time": 1744675200, "value": 42.35561971859658}, {"time": 1744761600, "value": 42.34746545968262}, {"time": 1744848000, "value": 42.348659225427134}, {"time": 1745193600, "value": 42.395453584910264}, {"time": 1745798400, "value": 42.47398181491881}, {"time": 1745884800, "value": 42.55836449921225}, {"time": 1746748800, "value": 42.66423454690632}, {"time": 1747180800, "value": 42.79049792339143}, {"time": 1747267200, "value": 42.88473621640177}, {"time": 1747353600, "value": 42.909999433887315}, {"time": 1747612800, "value": 42.918570916374236}, {"time": 1747699200, "value": 43.19775463862431}, {"time": 1747872000, "value": 43.488444673041045}, {"time": 1747958400, "value": 43.69240232322761}, {"time": 1748217600, "value": 43.87598305434879}, {"time": 1748304000, "value": 44.018270382506046}, {"time": 1748563200, "value": 44.2212922508388}, {"time": 1748908800, "value": 44.57355013171129}, {"time": 1748995200, "value": 44.828450119167364}, {"time": 1749081600, "value": 45.07145486972285}, {"time": 1749168000, "value": 45.24560202498734}, {"time": 1749427200, "value": 45.39173516546474}, {"time": 1749513600, "value": 45.49156991161095}, {"time": 1749600000, "value": 45.62570611050515}, {"time": 1749686400, "value": 45.9261150523618}, {"time": 1749772800, "value": 46.217913618803536}, {"time": 1750032000, "value": 46.55906470272701}, {"time": 1750204800, "value": 46.90105854056253}, {"time": 1750291200, "value": 47.116195822413715}, {"time": 1750809600, "value": 47.41846288694574}, {"time": 1751241600, "value": 47.54622832628424}, {"time": 1751328000, "value": 47.703730390447646}, {"time": 1751414400, "value": 47.75766082945263}, {"time": 1751846400, "value": 47.7578836076}, {"time": 1751932800, "value": 47.755228025923806}, {"time": 1752019200, "value": 47.74711107107392}, {"time": 1752105600, "value": 47.785481445257346}, {"time": 1752192000, "value": 47.744007021899506}, {"time": 1752451200, "value": 47.71886349600432}, {"time": 1752537600, "value": 47.646590782099146}, {"time": 1752624000, "value": 47.588820231423036}, {"time": 1752710400, "value": 47.47178973319227}, {"time": 1752796800, "value": 47.49447642526919}, {"time": 1753056000, "value": 47.50452628952927}, {"time": 1753142400, "value": 47.52885711909791}, {"time": 1753228800, "value": 47.53848977442192}, {"time": 1753401600, "value": 47.577681224476976}, {"time": 1753660800, "value": 47.57790206024107}, {"time": 1753747200, "value": 47.56953043545621}, {"time": 1753833600, "value": 47.580051346365146}, {"time": 1753920000, "value": 47.42957026575894}, {"time": 1754265600, "value": 47.3353254785438}, {"time": 1754438400, "value": 47.24815162344439}, {"time": 1754524800, "value": 47.23594670692588}, {"time": 1754611200, "value": 47.26871368721865}, {"time": 1754870400, "value": 47.252645717007354}, {"time": 1754956800, "value": 47.21715564872094}, {"time": 1755043200, "value": 47.177426539318944}, {"time": 1755129600, "value": 47.131957345098094}, {"time": 1755475200, "value": 47.098437597945896}, {"time": 1755648000, "value": 47.18430068385581}, {"time": 1755820800, "value": 47.25436728539335}, {"time": 1756080000, "value": 47.35776087726065}, {"time": 1756166400, "value": 47.510355079426304}, {"time": 1756252800, "value": 47.54841650043332}, {"time": 1756339200, "value": 47.62951969086824}, {"time": 1756425600, "value": 47.33813686316651}, {"time": 1756684800, "value": 46.90593335238875}, {"time": 1756857600, "value": 46.44155874739935}, {"time": 1756944000, "value": 45.99188648574227}, {"time": 1757030400, "value": 45.613611582338244}, {"time": 1757376000, "value": 45.27707714592508}, {"time": 1757462400, "value": 44.97259360821793}, {"time": 1757548800, "value": 44.68377516934003}, {"time": 1757635200, "value": 44.401510867498125}, {"time": 1757894400, "value": 44.14041459440306}, {"time": 1757980800, "value": 43.859422728269436}, {"time": 1758067200, "value": 43.59376342081521}, {"time": 1758153600, "value": 43.30197642835662}, {"time": 1758240000, "value": 43.090359625655985}, {"time": 1758499200, "value": 42.82651585178398}, {"time": 1758585600, "value": 42.56303815161408}, {"time": 1758758400, "value": 42.32655832765083}, {"time": 1758844800, "value": 42.111648010731706}, {"time": 1759104000, "value": 41.90958629542392}, {"time": 1759968000, "value": 41.77057807681212}, {"time": 1760054400, "value": 41.71338016473477}, {"time": 1760313600, "value": 41.645439196664796}, {"time": 1760572800, "value": 41.56968308269672}, {"time": 1761091200, "value": 41.437332312916084}, {"time": 1761264000, "value": 41.28901494978122}, {"time": 1761609600, "value": 41.21006114504015}, {"time": 1761696000, "value": 41.16624579789347}, {"time": 1761782400, "value": 41.143746198094085}, {"time": 1761868800, "value": 41.06624656018036}, {"time": 1762128000, "value": 40.96565164968699}, {"time": 1762214400, "value": 40.85939911162156}, {"time": 1762300800, "value": 40.74231348194332}, {"time": 1762387200, "value": 40.674474102710626}, {"time": 1762473600, "value": 40.60833371197628}, {"time": 1762732800, "value": 40.626587644169014}, {"time": 1762819200, "value": 40.61548405901006}, {"time": 1763078400, "value": 40.58448557719958}, {"time": 1763337600, "value": 40.505963141275814}, {"time": 1763510400, "value": 40.42729998496383}, {"time": 1763596800, "value": 40.35136665306252}, {"time": 1763683200, "value": 40.23314125753276}, {"time": 1763942400, "value": 40.15474685205344}, {"time": 1764028800, "value": 40.06858048519121}, {"time": 1764115200, "value": 39.99062043898253}, {"time": 1764201600, "value": 39.876275635269906}, {"time": 1764288000, "value": 39.732820812863245}, {"time": 1764633600, "value": 39.55921883068579}, {"time": 1764720000, "value": 39.41072179919191}, {"time": 1764806400, "value": 39.26303400879268}, {"time": 1764892800, "value": 39.16369743652671}, {"time": 1765152000, "value": 39.0604881568575}, {"time": 1765238400, "value": 38.91282261810917}, {"time": 1765497600, "value": 38.771601416384485}, {"time": 1765843200, "value": 38.662877471966915}, {"time": 1765929600, "value": 38.59307961749388}, {"time": 1766016000, "value": 38.55469108249446}, {"time": 1766361600, "value": 38.53138716987594}, {"time": 1766448000, "value": 38.506493153697285}, {"time": 1766534400, "value": 38.47635094858325}, {"time": 1766620800, "value": 38.45765085824199}, {"time": 1766707200, "value": 38.46073172888561}, {"time": 1766966400, "value": 38.47685251661079}], "color": "#FFA500", "lineWidth": 2}];
        const strokesData = [];
        const markersData = [{"time": 1704758400, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1705017600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1705622400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1706140800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1706227200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1707177600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1708992000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1709510400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1710115200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1710892800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1711065600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1713312000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1713484800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1713916800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1714435200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1715040000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1715126400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1715212800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1715558400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1715904000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1716768000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1717459200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1718150400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1718928000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1720483200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1720742400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1721174400, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1721779200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1722988800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1723420800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1723680000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1724112000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1724284800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1724371200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1724716800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1724889600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1725580800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1726012800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1726704000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1728604800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1729209600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1729468800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1729555200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1729728000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1729814400, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1730160000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1730246400, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1730419200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1731024000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H3"}, {"time": 1731283200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1731369600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1732752000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1733270400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1733443200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1734912000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1735516800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H3"}, {"time": 1735603200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1736121600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1736812800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1736985600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1737417600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1737676800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L3"}, {"time": 1738713600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1739923200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1740441600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1740614400, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1741132800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1741305600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1741737600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1742256000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1743379200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1744329600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H2"}, {"time": 1744848000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H3"}, {"time": 1746748800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H4"}, {"time": 1747353600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1747699200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1747958400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1749168000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1749600000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1750291200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1750809600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1751241600, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1751328000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1751414400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1752192000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1752796800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1753660800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1753833600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1753920000, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1755648000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1756252800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1757376000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1757894400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1758240000, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1758499200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1761091200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1761609600, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1761868800, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1762387200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1763078400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1763683200, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L2"}, {"time": 1764892800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1765238400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1765843200, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}, {"time": 1766534400, "position": "aboveBar", "color": "#e040fb", "shape": "circle", "text": "L1"}, {"time": 1766620800, "position": "belowBar", "color": "#ff4081", "shape": "circle", "text": "H1"}];
        const pricePrecision = 2; // 动态精度

        // 创建图表
        const container = document.getElementById('chart-container');
        const chart = LightweightCharts.createChart(container, {
            layout: {
                background: { type: 'solid', color: '#131722' },
                textColor: '#d1d4dc',
            },
            grid: {
                vertLines: { color: '#1e222d' },
                horzLines: { color: '#1e222d' },
            },
            crosshair: {
                mode: LightweightCharts.CrosshairMode.Normal,
                vertLine: {
                    color: '#758696',
                    width: 1,
                    style: LightweightCharts.LineStyle.Dashed,
                    labelBackgroundColor: '#2a2e39',
                },
                horzLine: {
                    color: '#758696',
                    width: 1,
                    style: LightweightCharts.LineStyle.Dashed,
                    labelBackgroundColor: '#2a2e39',
                },
            },
            rightPriceScale: {
                borderColor: '#2a2e39',
                mode: LightweightCharts.PriceScaleMode.Logarithmic,
                scaleMargins: {
                    top: 0.1,
                    bottom: 0.1,
                },
            },
            timeScale: {
                borderColor: '#2a2e39',
                timeVisible: false,
                secondsVisible: false,
                rightOffset: 5,
                tickMarkFormatter: (time) => {
                    const date = new Date(time * 1000);
                    const yy = String(date.getFullYear()).slice(-2);
                    const mm = String(date.getMonth() + 1).padStart(2, '0');
                    const dd = String(date.getDate()).padStart(2, '0');
                    return `${yy}-${mm}-${dd}`;
                },
            },
            localization: {
                timeFormatter: (time) => {
                    const date = new Date(time * 1000);
                    const yy = String(date.getFullYear()).slice(-2);
                    const mm = String(date.getMonth() + 1).padStart(2, '0');
                    const dd = String(date.getDate()).padStart(2, '0');
                    return `${yy}-${mm}-${dd}`;
                },
            },
            handleScroll: {
                vertTouchDrag: false,
            },
            handleScale: {
                mouseWheel: false,  // 禁用默认滚轮缩放，使用自定义实现
            },
        });

        // 自定义滚轮缩放：以鼠标位置为中心
        container.addEventListener('wheel', (e) => {
            e.preventDefault();
            
            const timeScale = chart.timeScale();
            const visibleRange = timeScale.getVisibleLogicalRange();
            if (!visibleRange) return;

            const containerRect = container.getBoundingClientRect();
            const mouseX = e.clientX - containerRect.left;
            const chartWidth = containerRect.width;
            
            // 鼠标在图表中的相对位置 (0-1)
            const mouseRatio = mouseX / chartWidth;
            
            // 当前可见范围
            const rangeLength = visibleRange.to - visibleRange.from;
            
            // 缩放因子：向上滚动放大，向下滚动缩小
            const zoomFactor = e.deltaY > 0 ? 1.1 : 0.9;
            const newRangeLength = rangeLength * zoomFactor;
            
            // 限制最小/最大缩放范围
            if (newRangeLength < 10 || newRangeLength > candlestickData.length) return;
            
            // 以鼠标位置为中心计算新范围
            const mouseLogicalPos = visibleRange.from + rangeLength * mouseRatio;
            const newFrom = mouseLogicalPos - newRangeLength * mouseRatio;
            const newTo = mouseLogicalPos + newRangeLength * (1 - mouseRatio);
            
            timeScale.setVisibleLogicalRange({
                from: newFrom,
                to: newTo,
            });
        }, { passive: false });

        // --------------------------------------------------------
        // Shift + 拖动: 垂直平移 (调整价格轴边距)
        // --------------------------------------------------------
        let isDragging = false;
        let lastY = 0;
        let currentTopMargin = 0.1;
        let currentBottomMargin = 0.1;
        
        container.addEventListener('mousedown', (e) => {
            if (e.shiftKey) {
                isDragging = true;
                lastY = e.clientY;
                e.preventDefault();
            }
        });
        
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const deltaY = e.clientY - lastY;
            lastY = e.clientY;
            
            // 调整边距来实现垂直平移效果
            const marginDelta = deltaY / container.clientHeight * 0.5;
            currentTopMargin = Math.max(0, Math.min(0.9, currentTopMargin + marginDelta));
            currentBottomMargin = Math.max(0, Math.min(0.9, currentBottomMargin - marginDelta));
            
            chart.priceScale('right').applyOptions({
                scaleMargins: {
                    top: currentTopMargin,
                    bottom: currentBottomMargin,
                },
            });
        });
        
        document.addEventListener('mouseup', () => {
            isDragging = false;
        });
        
        // 双击重置视图
        container.addEventListener('dblclick', () => {
            currentTopMargin = 0.1;
            currentBottomMargin = 0.1;
            chart.priceScale('right').applyOptions({
                scaleMargins: {
                    top: 0.1,
                    bottom: 0.1,
                },
            });
            chart.timeScale().fitContent();
        });
        // --------------------------------------------------------

        // K 线系列
        const candlestickSeries = chart.addCandlestickSeries({
            upColor: '#26a69a',
            downColor: '#ef5350',
            borderUpColor: '#26a69a',
            borderDownColor: '#ef5350',
            wickUpColor: '#26a69a',
            wickDownColor: '#ef5350',
        });
        candlestickSeries.setData(candlestickData);

        // 设置标记 (分型点)
        if (markersData.length > 0) {
            candlestickSeries.setMarkers(markersData);
        }

        // 笔连线 (已禁用，如需启用请取消注释)
        // if (strokesData.length > 0) {
        //     const strokeSeries = chart.addLineSeries({
        //         color: '#9c27b0',
        //         lineWidth: 2,
        //         crosshairMarkerVisible: false,
        //         lastValueVisible: false,
        //         priceLineVisible: false,
        //     });
        //     strokeSeries.setData(strokesData);
        // }

        // 技术指标线
        const legendContainer = document.getElementById('legend');
        indicators.forEach((indicator, index) => {
            const lineSeries = chart.addLineSeries({
                color: indicator.color,
                lineWidth: indicator.lineWidth,
                crosshairMarkerVisible: true,
                lastValueVisible: false,
                priceLineVisible: false,
            });
            lineSeries.setData(indicator.data);

            // 添加图例
            const legendItem = document.createElement('div');
            legendItem.className = 'legend-item';
            legendItem.innerHTML = `
                <div class="legend-color" style="background: ${indicator.color}"></div>
                <span>${indicator.name}</span>
            `;
            legendContainer.appendChild(legendItem);
        });

        // 添加笔图例
        if (strokesData.length > 0) {
            const strokeLegend = document.createElement('div');
            strokeLegend.className = 'legend-item';
            strokeLegend.innerHTML = `
                <div class="legend-color" style="background: #9c27b0"></div>
                <span>笔</span>
            `;
            legendContainer.appendChild(strokeLegend);
        }

        // OHLC 面板 (左上角固定显示)
        const ohlcPanel = document.getElementById('ohlc-panel');
        
        chart.subscribeCrosshairMove((param) => {
            if (!param.time || !param.point) {
                ohlcPanel.innerHTML = '';
                return;
            }

            const data = param.seriesData.get(candlestickSeries);
            if (!data) {
                ohlcPanel.innerHTML = '';
                return;
            }

            const date = new Date(param.time * 1000);
            const dateStr = date.toISOString().split('T')[0];
            
            const change = data.close - data.open;
            const changeClass = change >= 0 ? 'up' : 'down';
            const changePercent = ((change / data.open) * 100).toFixed(2);
            const changeSign = change >= 0 ? '+' : '';
            
            // 获取指标值
            let indicatorHtml = '';
            indicators.forEach((indicator) => {
                const found = indicator.data.find(d => d.time === param.time);
                if (found) {
                    indicatorHtml += `
                        <div class="ohlc-item">
                            <span class="ohlc-label">${indicator.name}:</span>
                            <span class="ohlc-value" style="color:${indicator.color}">${found.value.toFixed(pricePrecision)}</span>
                        </div>
                    `;
                }
            });

            ohlcPanel.innerHTML = `
                <span class="ohlc-date">${dateStr}</span>
                <div class="ohlc-item"><span class="ohlc-label">O:</span><span class="ohlc-value ${changeClass}">${data.open.toFixed(pricePrecision)}</span></div>
                <div class="ohlc-item"><span class="ohlc-label">H:</span><span class="ohlc-value ${changeClass}">${data.high.toFixed(pricePrecision)}</span></div>
                <div class="ohlc-item"><span class="ohlc-label">L:</span><span class="ohlc-value ${changeClass}">${data.low.toFixed(pricePrecision)}</span></div>
                <div class="ohlc-item"><span class="ohlc-label">C:</span><span class="ohlc-value ${changeClass}">${data.close.toFixed(pricePrecision)}</span></div>
                <div class="ohlc-item"><span class="ohlc-value ${changeClass}">${changeSign}${changePercent}%</span></div>
                ${indicatorHtml}
            `;
        });

        // 自适应大小
        const resizeObserver = new ResizeObserver(entries => {
            for (const entry of entries) {
                chart.applyOptions({
                    width: entry.contentRect.width,
                    height: entry.contentRect.height,
                });
            }
        });
        resizeObserver.observe(container);

        // 初始显示最后 120 根 K 线
        if (candlestickData.length > 120) {
            const from = candlestickData[candlestickData.length - 120].time;
            const to = candlestickData[candlestickData.length - 1].time;
            chart.timeScale().setVisibleRange({ from, to });
        }
    </script>
</body>
</html>
